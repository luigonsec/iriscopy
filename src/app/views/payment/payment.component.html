<div id="payment">
  <div class="grid p-0 m-0" *ngIf="!!!this.emptyCart">
    <div class="col-12 sm:col-5">
      <app-order-processing
        [updateDeliveryMethod]="this.updateDeliveryMethod.bind(this)"
        [billing]="this.billing"
        [shipping]="this.shipping"
        [customer]="this.customer"
      >
      </app-order-processing>
    </div>
    <div class="col-12 sm:col-6 sm:col-offset-1">
      <div id="customer-info" class="iriscopy-box padding-sm">
        <h3>Datos de envío y facturación</h3>
        <div class="p-fluid" *ngIf="!!!this.customer">
          <button
            pButton
            id="button-login"
            class="Secondary pink"
            [routerLink]="'/login'"
            [queryParams]="{ backTo: 'payment' }"
          >
            <p>
              ¿Tienes una cuenta? <span>Accede a ella</span> para evitar
              rellenar tus datos de facturación.
            </p>
          </button>
        </div>

        <app-billing
          #billing
          [shipping]="this.deliver === 'Shipping'"
        ></app-billing>
        <div class="grid" *ngIf="this.deliver === 'Shipping'">
          <div class="col-12">
            <p-checkbox binary="true" [(ngModel)]="this.differentAddress">
            </p-checkbox>
            <strong> ENVIAR A UNA DIRECCIÓN DIFERENTE</strong>
            <ng-container *ngIf="this.differentAddress">
              <div id="shipping-form" class="mt-4">
                <app-shipping #shipping></app-shipping>
              </div>
            </ng-container>
          </div>
        </div>
      </div>

      <div id="order-list" class="iriscopy-box padding-sm mt-3">
        <h3>Tu pedido</h3>
        <app-order #order></app-order>
      </div>
    </div>
  </div>
</div>

<app-payments-empty-cart-warning
  *ngIf="this.emptyCart"
></app-payments-empty-cart-warning>
